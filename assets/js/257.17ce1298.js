(window.webpackJsonp=window.webpackJsonp||[]).push([[257],{587:function(a,t,r){"use strict";r.r(t);var o=r(4),n=Object(o.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"mongo入门-基本使用-spring集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongo入门-基本使用-spring集成"}},[a._v("#")]),a._v(" Mongo入门 - 基本使用：Spring集成")]),a._v(" "),t("blockquote",[t("p",[a._v("本文为主要介绍Spring Data对MongoDB原生API的封装，比如Spring-data-\nmongo，MongoTemplate等。以及原生API和Spring data系列之间的关系。")])]),a._v(" "),t("h2",{attrs:{id:"spring-data-与-mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring-data-与-mongodb"}},[a._v("#")]),a._v(" Spring Data 与 MongoDB")]),a._v(" "),t("blockquote",[t("p",[a._v("在初学使用者而言，常会分不清Spring-data-jpa, spring-data-mongo, springboot-data-mongo-\nstarter以及mongo-driver之间的关联关系， 本节将带你理解它们之间的关系。")])]),a._v(" "),t("h3",{attrs:{id:"spring-data的层次结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring-data的层次结构"}},[a._v("#")]),a._v(" Spring Data的层次结构")]),a._v(" "),t("p",[a._v("首先让我们回顾下Spring runtime体系：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/willpast/image/blog/ka_java/mongo-x-usage-spring-4.png",alt:"img"}})]),a._v(" "),t("p",[a._v("Spring Data是基于Spring runtime体系的：")]),a._v(" "),t("blockquote",[t("p",[a._v("下面这个图能够直观反映出它们之间的依赖关系，以及包中类之间的以来关系。")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/willpast/image/blog/ka_java/mongo-x-usage-spring-5.png",alt:"img"}})]),a._v(" "),t("h3",{attrs:{id:"springboot-data-mongo层次结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#springboot-data-mongo层次结构"}},[a._v("#")]),a._v(" springboot-data-mongo层次结构")]),a._v(" "),t("p",[a._v("我们通过引入"),t("code",[a._v("springboot-data-mongo-starter")]),a._v("包来看它们之间的层次结构：")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/willpast/image/blog/ka_java/mongo-x-usage-spring-1.png",alt:"img"}})]),a._v(" "),t("h2",{attrs:{id:"mongodb-java用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-java用法"}},[a._v("#")]),a._v(" mongodb+Java用法")]),a._v(" "),t("blockquote",[t("p",[a._v("所以通过上面分析我们可以得到基于mongodb+Java的常见用法：")])]),a._v(" "),t("h3",{attrs:{id:"使用方式及依赖包的引入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用方式及依赖包的引入"}},[a._v("#")]),a._v(" 使用方式及依赖包的引入")]),a._v(" "),t("ul",[t("li",[a._v("引入"),t("code",[a._v("mongodb-driver")]),a._v(", 使用最原生的方式通过Java调用mongodb提供的Java driver;")]),a._v(" "),t("li",[a._v("引入"),t("code",[a._v("spring-data-mongo")]),a._v(", 自行配置使用spring data 提供的对MongoDB的封装\n"),t("ul",[t("li",[a._v("使用"),t("code",[a._v("MongoTemplate")]),a._v(" 的方式")]),a._v(" "),t("li",[a._v("使用"),t("code",[a._v("MongoRespository")]),a._v(" 的方式")])])]),a._v(" "),t("li",[a._v("引入"),t("code",[a._v("spring-data-mongo-starter")]),a._v(", 采用spring autoconfig机制自动装配，然后再使用"),t("code",[a._v("MongoTemplate")]),a._v("或者"),t("code",[a._v("MongoRespository")]),a._v("方式。")])]),a._v(" "),t("h3",{attrs:{id:"具体使用中文档的参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#具体使用中文档的参考"}},[a._v("#")]),a._v(" 具体使用中文档的参考")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://docs.spring.io/spring-data/mongodb/docs/3.0.3.RELEASE/reference/html/#preface",target:"_blank",rel:"noopener noreferrer"}},[a._v("spring-data/mongodb 官方的参考文档在新窗口打开"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/willpast/image/blog/ka_java/mongo-x-usage-spring-2.png",alt:"img"}})]),a._v(" "),t("h3",{attrs:{id:"一些案例的参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一些案例的参考"}},[a._v("#")]),a._v(" 一些案例的参考")]),a._v(" "),t("h4",{attrs:{id:"原生方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原生方式"}},[a._v("#")]),a._v(" 原生方式")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("前文我们展示的Java通过"),t("RouterLink",{attrs:{to:"/pages/mongo-x-usage-4.html"}},[a._v("mongodb-driver操作mongodb示例")]),a._v("。")],1)]),a._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://mongodb.github.io/mongo-java-driver/3.12/driver/getting-started/quick-start/",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方mongo-java-driver 例子在新窗口打开"),t("OutboundLink")],1)])])]),a._v(" "),t("h4",{attrs:{id:"spring-data-mongo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring-data-mongo"}},[a._v("#")]),a._v(" spring-data-mongo")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://spring.io/projects/spring-data-mongodb#samples",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方spring-data-mongodb 例子在新窗口打开"),t("OutboundLink")],1)])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/willpast/image/blog/ka_java/mongo-x-usage-spring-3.png",alt:"img"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);