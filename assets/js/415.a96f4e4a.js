(window.webpackJsonp=window.webpackJsonp||[]).push([[415],{749:function(n,t,a){"use strict";a.r(t);var i=a(4),o=Object(i.a)({},(function(){var n=this,t=n._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"行为型-命令模式-command"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#行为型-命令模式-command"}},[n._v("#")]),n._v(" 行为型 - 命令模式(Command)")]),n._v(" "),t("blockquote",[t("p",[n._v('命令模式(Command pattern): 将"请求"封闭成对象, 以便使用不同的请求,队列或者日志来参数化其他对象.\n命令模式也支持可撤销的操作。')])]),n._v(" "),t("h2",{attrs:{id:"意图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#意图"}},[n._v("#")]),n._v(" 意图")]),n._v(" "),t("p",[n._v("将命令封装成对象中，以便使用命令来参数化其它对象，或者将命令对象放入队列中进行排队，或者将命令对象的操作记录到日志中，以及支持可撤销的操作。")]),n._v(" "),t("h2",{attrs:{id:"类图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类图"}},[n._v("#")]),n._v(" 类图")]),n._v(" "),t("ul",[t("li",[n._v("Command: 命令")]),n._v(" "),t("li",[n._v("Receiver: 命令接收者，也就是命令真正的执行者")]),n._v(" "),t("li",[n._v("Invoker: 通过它来调用命令")]),n._v(" "),t("li",[n._v("Client: 可以设置命令与命令的接收者")])]),n._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/willpast/image/blog/ka_java/ae1b27b8-bc13-42e7-ac12-a2242e125499.png",alt:"img"}})]),n._v(" "),t("h2",{attrs:{id:"实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[n._v("#")]),n._v(" 实现")]),n._v(" "),t("p",[n._v("设计一个遥控器，可以控制电灯开关。")]),n._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/willpast/image/blog/ka_java/e6bded8e-41a0-489a-88a6-638e88ab7666.jpg",alt:"img"}})]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[n._v('public interface Command {\n    void execute();\n}\n\n\n\npublic class LightOnCommand implements Command {\n    Light light;\n\n    public LightOnCommand(Light light) {\n        this.light = light;\n    }\n\n    @Override\n    public void execute() {\n        light.on();\n    }\n}\n\n\n\npublic class LightOffCommand implements Command {\n    Light light;\n\n    public LightOffCommand(Light light) {\n        this.light = light;\n    }\n\n    @Override\n    public void execute() {\n        light.off();\n    }\n}\n\n\n\npublic class Light {\n\n    public void on() {\n        System.out.println("Light is on!");\n    }\n\n    public void off() {\n        System.out.println("Light is off!");\n    }\n}\n\n\n\n/**\n * 遥控器\n */\npublic class Invoker {\n    private Command[] onCommands;\n    private Command[] offCommands;\n    private final int slotNum = 7;\n\n    public Invoker() {\n        this.onCommands = new Command[slotNum];\n        this.offCommands = new Command[slotNum];\n    }\n\n    public void setOnCommand(Command command, int slot) {\n        onCommands[slot] = command;\n    }\n\n    public void setOffCommand(Command command, int slot) {\n        offCommands[slot] = command;\n    }\n\n    public void onButtonWasPushed(int slot) {\n        onCommands[slot].execute();\n    }\n\n    public void offButtonWasPushed(int slot) {\n        offCommands[slot].execute();\n    }\n}\n\n\n\npublic class Client {\n    public static void main(String[] args) {\n        Invoker invoker = new Invoker();\n        Light light = new Light();\n        Command lightOnCommand = new LightOnCommand(light);\n        Command lightOffCommand = new LightOffCommand(light);\n        invoker.setOnCommand(lightOnCommand, 0);\n        invoker.setOffCommand(lightOffCommand, 0);\n        invoker.onButtonWasPushed(0);\n        invoker.offButtonWasPushed(0);\n    }\n}\n')])])]),t("h2",{attrs:{id:"jdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jdk"}},[n._v("#")]),n._v(" JDK")]),n._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("java.lang.Runnable在新窗口打开"),t("OutboundLink")],1)]),n._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/Netflix/Hystrix/wiki",target:"_blank",rel:"noopener noreferrer"}},[n._v("Netflix Hystrix在新窗口打开"),t("OutboundLink")],1)]),n._v(" "),t("li",[t("a",{attrs:{href:"http://docs.oracle.com/javase/8/docs/api/javax/swing/Action.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("javax.swing.Action在新窗口打开"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=o.exports}}]);